FROM ubuntu:24.04

RUN apt-get update && apt-get install -y wget gpg
RUN wget -O - https://apt.kitware.com/keys/kitware-archive-latest.asc 2>/dev/null | gpg --dearmor - | tee /usr/share/keyrings/kitware-archive-keyring.gpg >/dev/null && echo 'deb [signed-by=/usr/share/keyrings/kitware-archive-keyring.gpg] https://apt.kitware.com/ubuntu/ noble main' | tee /etc/apt/sources.list.d/kitware.list >/dev/null
RUN apt-get update && apt-get install -y build-essential gcc-14 g++-14 cmake cmake-extras curl git gawk gettext gir1.2-graphene-1.0 glslang-tools gobject-introspection golang hwdata jq libavcodec-dev libavformat-dev libavutil-dev libcairo2-dev libdeflate-dev libdisplay-info-dev libdrm-dev libegl1-mesa-dev libgbm-dev libgdk-pixbuf-2.0-dev libgdk-pixbuf2.0-bin libgirepository1.0-dev libgl1-mesa-dev libgraphene-1.0-0 libgraphene-1.0-dev libgtk-3-dev libgulkan-dev libinih-dev libinput-dev libjbig-dev liblerc-dev libliftoff-dev liblzma-dev libnotify-bin libpam0g-dev libpango1.0-dev libpipewire-0.3-dev libqt6svg6 libseat-dev libstartup-notification0-dev libswresample-dev libsystemd-dev libtiff-dev libtiffxx6 libtomlplusplus-dev libudev-dev libvkfft-dev libvulkan-dev libvulkan-volk-dev libwayland-dev libwebp-dev libxcb-composite0-dev libxcb-cursor-dev libxcb-dri3-dev libxcb-ewmh-dev libxcb-icccm4-dev libxcb-present-dev libxcb-render-util0-dev libxcb-res0-dev libxcb-util-dev libxcb-xinerama0-dev libxcb-xinput-dev libxcb-xkb-dev libxkbcommon-dev libxkbcommon-x11-dev libxkbregistry-dev libxml2-dev libxxhash-dev make meson ninja-build openssl psmisc python3-mako python3-markdown python3-markupsafe python3-yaml python3-pyquery qt6-base-dev scdoc seatd spirv-tools vulkan-validationlayers xdg-desktop-portal xwayland
RUN apt-get install -y cliphist grim gvfs gvfs-backends inxi imagemagick kitty nano pavucontrol playerctl polkit-kde-agent-1 python3-requests python3-pip qt5ct qt5-style-kvantum qt5-style-kvantum-themes qt6ct slurp sway-notification-center waybar wget wl-clipboard wlogout xdg-user-dirs xdg-utils yad 
RUN apt-get install -y automake wayland-protocols libssl-dev libpugixml-dev libmagic-dev libzip-dev librsvg2-dev libre2-dev xutils-dev libtool pkg-config xcb-proto libdbus-1-dev libsdbus-c++-dev libxcursor-dev && update-alternatives --install /usr/bin/c++ c++ /usr/bin/g++-14 20 && update-alternatives --install /usr/bin/cc cc /usr/bin/gcc-14 20 && update-alternatives --set cc /usr/bin/gcc-14 && update-alternatives --set c++ /usr/bin/g++-14
